Notion to Discord Webhook TransformerThis is a simple serverless function to receive a webhook from a Notion Automation, transform the JSON payload, and send it to a Discord webhook in a format that Discord understands.It's designed to be deployed easily on Vercel.How to DeployCreate GitHub Repo: Create a new repository on GitHub and add all the files from this project (api/transform.js, package.json, vercel.json, README.md).Create Discord Webhook:In your Discord server, go to Server Settings > Integrations > Webhooks.Create a New Webhook.Give it a name (e.g., "Notion Bot") and choose the channel.Copy the Webhook URL. You'll need this in a moment.Deploy to Vercel:Sign up for a free account at vercel.com using your GitHub account.On your Vercel dashboard, click Add New... > Project.Import the GitHub repository you just created.Configure Environment Variable: Before deploying, go to the Environment Variables section.Add a new variable with the name: DISCORD_WEBHOOK_URLIn the value field, paste your Discord Webhook URL from step 2.Click Deploy. Vercel will build and deploy your function.Get Your New URL: After deployment, Vercel will give you a public URL for your project (e.g., my-project.vercel.app). Your webhook translator URL will be this URL + /api/transform.Your URL: https://<your-project-name>.vercel.app/api/transformHow to UseSet up Notion Automation:In your Notion database, create or edit an Automation.Set your trigger (e.g., "When Status is changed to Done").Add an action: Send webhook.In the Webhook URL box, paste your Vercel URL from step 4 (e.g., https://my-project.vercel.app/api/transform).In the Payload section, click Show more and select Custom payload.Configure Notion Payload:This is where you tell Notion what data to send. The api/transform.js file is set up to receive a specific JSON format.To work with the example code, paste this into the Payload box in Notion, using the + icon to add properties from your page:{
  "pageName": "Page name",
  "status": "Status",
  "pageUrl": "Page URL"
}
This will send a JSON object with the page's name, status, and URL, which our function will then format nicely for Discord.How to CustomizeThe most important file is api/transform.js. If you want to change the data you send from Notion or how it looks in Discord:Change the Notion Payload: Add or remove properties from the Custom payload in your Notion Automation.Update transformPayload function: Edit the transformPayload function in api/transform.js to match the new data you're sending and to change the Discord embed (e.g., add more fields, change the colour, etc.).Commit & Push: Commit your changes and push them to GitHub. Vercel will automatically see the changes and redeploy your function.
